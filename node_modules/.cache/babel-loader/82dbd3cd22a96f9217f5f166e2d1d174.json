{"ast":null,"code":"import _classCallCheck from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import firebase from'firebase';import StyledFirebaseAuth from'react-firebaseui/StyledFirebaseAuth';import Swal from'sweetalert2';import fireconfig from'../config/firebase.config';import Aux from'./Aux';import Modal from'./Modal';import Logo from'./Logo';import EventCards from'./EventCards';import'./assets/css/Registration.css';firebase.initializeApp(fireconfig);var Registration=/*#__PURE__*/function(_Component){_inherits(Registration,_Component);function Registration(props){var _this;_classCallCheck(this,Registration);_this=_possibleConstructorReturn(this,_getPrototypeOf(Registration).call(this,props));_this.uiConfig={signInFlow:\"redirect\",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function signInSuccess(){return false;}}};_this.componentDidMount=function(){firebase.auth().onAuthStateChanged(function(user){_this.setState({isSignedIn:!!user});if(!!user){document.getElementById(\"root\").style.display=\"none\";document.getElementById(\"loader\").style.display=\"block\";firebase.database().ref('/participants/'+user.uid).once('value').then(function(snapshot){document.getElementById(\"loader\").style.display=\"none\";document.getElementById(\"root\").style.display=\"block\";if(snapshot.val()!==null){_this.setState({user:snapshot.val(),isUserCreated:true});}else{_this.setState({tempName:user.displayName,isUserCreated:false});}}).catch(function(e){return console.log(e.message);});}});};_this.state={isSignedIn:!!firebase.auth().currentUser,isUserCreated:false,user:null,tempCollege:'',tempMobile:'',tempName:''};return _this;}_createClass(Registration,[{key:\"render\",value:function render(){return React.createElement(Aux,null,React.createElement(Modal,{show:!this.state.isSignedIn,modalClosed:this.modalClosedHandler},React.createElement(\"div\",{className:\"ModalInner\"},React.createElement(Logo,{size:0}),React.createElement(\"h3\",null,\"Login to Ascension\"),React.createElement(\"span\",null,\"Login to Ascension with your Google Account for Event Registration\"),React.createElement(StyledFirebaseAuth,{uiConfig:this.uiConfig,firebaseAuth:firebase.auth()}))),React.createElement(Modal,{show:this.state.isSignedIn&&!this.state.isUserCreated,modalClosed:this.modalClosedHandler},React.createElement(\"div\",{className:\"ModalInner\"},React.createElement(Logo,{size:0}),React.createElement(\"h3\",null,\"Fill Your Personal Details\"),React.createElement(\"form\",{className:\"SignupForm\",netlify:true,\"netlify-honeypot\":\"bot-field\",hidden:true},React.createElement(\"input\",{type:\"text\",placeholder:\"Your Name\",value:this.state.tempName,onChange:this.nameChangeHandler}),React.createElement(\"input\",{type:\"text\",placeholder:\"Enter College Name\",value:this.state.tempCollege,onChange:this.collegeNameChangeHandler}),React.createElement(\"input\",{type:\"tel\",placeholder:\"Enter Mobile Number\",value:this.state.tempMobile,onChange:this.mobileNumberChangeHandler}),React.createElement(\"input\",{type:\"submit\",value:\"Submit\",onClick:this.formSubmitHandler})))),React.createElement(EventCards,{show:this.state.isUserCreated,user:this.state.user}));}}]);return Registration;}(Component);export default Registration;","map":{"version":3,"sources":["/home/cracked/Desktop/Ascension XX/src/Components/Registration.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Swal","fireconfig","Aux","Modal","Logo","EventCards","initializeApp","Registration","props","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess","componentDidMount","onAuthStateChanged","user","setState","isSignedIn","document","getElementById","style","display","database","ref","uid","once","then","snapshot","val","isUserCreated","tempName","displayName","catch","e","console","log","message","state","currentUser","tempCollege","tempMobile","modalClosedHandler","nameChangeHandler","collegeNameChangeHandler","mobileNumberChangeHandler","formSubmitHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport firebase from 'firebase';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Swal from 'sweetalert2';\n\nimport fireconfig from '../config/firebase.config';\n\nimport Aux from './Aux';\nimport Modal from './Modal';\nimport Logo from './Logo';\nimport EventCards from './EventCards';\nimport './assets/css/Registration.css';\n\nfirebase.initializeApp(fireconfig);\n\nclass Registration extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            isSignedIn: !!firebase.auth().currentUser,\n            isUserCreated: false,\n            user: null,\n            tempCollege: '',\n            tempMobile: '',\n            tempName: ''\n         }\n    }\n\n    uiConfig = {\n        signInFlow: \"redirect\",\n        signInOptions: [\n          firebase.auth.GoogleAuthProvider.PROVIDER_ID\n        ],\n        callbacks: {\n          signInSuccess: () => false\n        }\n    }\n\n    componentDidMount = () => {\n        firebase.auth().onAuthStateChanged(user => {\n            this.setState({isSignedIn: !!user});\n            if (!!user){\n                document.getElementById(\"root\").style.display = \"none\";\n                document.getElementById(\"loader\").style.display = \"block\";\n                firebase.database().ref('/participants/'+user.uid)\n                    .once('value').then((snapshot) => {\n                        document.getElementById(\"loader\").style.display = \"none\";\n                        document.getElementById(\"root\").style.display = \"block\";\n                        if (snapshot.val() !== null) {\n                            this.setState({user: snapshot.val(), isUserCreated: true});\n                        }else{\n                            this.setState({tempName: user.displayName, isUserCreated: false});\n                        }\n                    }).catch(e => console.log(e.message));\n            }\n        })\n    }\n\n       \n\n    render() { \n        return ( \n            <Aux>\n                <Modal show={!this.state.isSignedIn} modalClosed={this.modalClosedHandler}>\n                    <div className=\"ModalInner\">\n                        <Logo size={0}/>\n                        <h3>Login to Ascension</h3>\n                        <span>Login to Ascension with your Google Account for Event Registration</span>\n                        <StyledFirebaseAuth \n                            uiConfig={this.uiConfig}\n                            firebaseAuth={firebase.auth()}/>\n                    </div>\n                </Modal>\n                <Modal show={this.state.isSignedIn && !this.state.isUserCreated}  modalClosed={this.modalClosedHandler}>\n                    <div className=\"ModalInner\">\n                        <Logo size={0}/>\n                        <h3>Fill Your Personal Details</h3>\n                        <form className=\"SignupForm\" netlify netlify-honeypot=\"bot-field\" hidden>\n                            <input \n                                type=\"text\" \n                                placeholder=\"Your Name\"\n                                value={this.state.tempName} \n                                onChange={this.nameChangeHandler}/>\n                            <input \n                                type=\"text\" \n                                placeholder=\"Enter College Name\"\n                                value={this.state.tempCollege} \n                                onChange={this.collegeNameChangeHandler}/>\n                            <input \n                                type=\"tel\" \n                                placeholder=\"Enter Mobile Number\"\n                                value={this.state.tempMobile}\n                                onChange={this.mobileNumberChangeHandler}/>\n                            <input \n                                type=\"submit\" \n                                value=\"Submit\" \n                                onClick={this.formSubmitHandler}/>\n                        </form>\n                    </div>\n                </Modal>\n                <EventCards \n                    show={this.state.isUserCreated}\n                    user={this.state.user}/>\n            </Aux>\n         );\n    }\n}\n\n \nexport default Registration;"]},"metadata":{},"sourceType":"module"}