{"ast":null,"code":"import _classCallCheck from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/cracked/Desktop/Ascension XX/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import firebase from'firebase';import StyledFirebaseAuth from'react-firebaseui/StyledFirebaseAuth';import Swal from'sweetalert2';import fireconfig from'./config';import Aux from'./Aux';import Modal from'./Modal';import Logo from'./Logo';import EventCards from'./EventCards';import'./assets/css/Registration.css';firebase.initializeApp(fireconfig);var Registration=/*#__PURE__*/function(_Component){_inherits(Registration,_Component);function Registration(props){var _this;_classCallCheck(this,Registration);_this=_possibleConstructorReturn(this,_getPrototypeOf(Registration).call(this,props));_this.uiConfig={signInFlow:\"redirect\",signInOptions:[firebase.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function signInSuccess(){return false;}}};_this.componentDidMount=function(){firebase.auth().onAuthStateChanged(function(user){_this.setState({isSignedIn:!!user});if(!!user){document.getElementById(\"root\").style.display=\"none\";document.getElementById(\"loader\").style.display=\"block\";firebase.database().ref('/participants/'+user.uid).once('value').then(function(snapshot){document.getElementById(\"loader\").style.display=\"none\";document.getElementById(\"root\").style.display=\"block\";if(snapshot.val()!==null){_this.setState({user:snapshot.val(),isUserCreated:true});}else{_this.setState({tempName:user.displayName,isUserCreated:false});}}).catch(function(e){return console.log(e.message);});}});};_this.modalClosedHandler=function(){window.location.href='/events/general';};_this.capitalize=function(str){var splitStr=str.toLowerCase().split(' ');for(var i=0;i<splitStr.length;i++){splitStr[i]=splitStr[i].charAt(0).toUpperCase()+splitStr[i].substring(1);}return splitStr.join(' ');};_this.collegeNameChangeHandler=function(event){var tpClg=_this.capitalize(event.target.value);_this.setState({tempCollege:tpClg});};_this.mobileNumberChangeHandler=function(event){_this.setState({tempMobile:event.target.value});};_this.nameChangeHandler=function(event){var tpNm=_this.capitalize(event.target.value);_this.setState({tempName:tpNm});};_this.state={isSignedIn:!!firebase.auth().currentUser,isUserCreated:false,user:null,tempCollege:'',tempMobile:'',tempName:''};return _this;}_createClass(Registration,[{key:\"render\",value:function render(){return React.createElement(Aux,null,React.createElement(Modal,{show:!this.state.isSignedIn,modalClosed:this.modalClosedHandler},React.createElement(\"div\",{className:\"ModalInner\"},React.createElement(Logo,{size:0}),React.createElement(\"h3\",null,\"Login to Ascension\"),React.createElement(\"span\",null,\"Login to Ascension with your Google Account for Event Registration\"),React.createElement(StyledFirebaseAuth,{uiConfig:this.uiConfig,firebaseAuth:firebase.auth()}))),React.createElement(Modal,{show:this.state.isSignedIn&&!this.state.isUserCreated,modalClosed:this.modalClosedHandler},React.createElement(\"div\",{className:\"ModalInner\"},React.createElement(Logo,{size:0}),React.createElement(\"h3\",null,\"Fill Your Personal Details\"),React.createElement(\"form\",{className:\"SignupForm\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Your Name\",value:this.state.tempName,onChange:this.nameChangeHandler}),React.createElement(\"input\",{type:\"text\",placeholder:\"Enter College Name\",value:this.state.tempCollege,onChange:this.collegeNameChangeHandler}),React.createElement(\"input\",{type:\"tel\",placeholder:\"Enter Mobile Number\",value:this.state.tempMobile,onChange:this.mobileNumberChangeHandler}),React.createElement(\"input\",{type:\"submit\",value:\"Submit\",onClick:this.formSubmitHandler})))),React.createElement(EventCards,{show:this.state.isUserCreated,user:this.state.user}));}}]);return Registration;}(Component);export default Registration;","map":{"version":3,"sources":["/home/cracked/Desktop/Ascension XX/src/Components/Registration.js"],"names":["React","Component","firebase","StyledFirebaseAuth","Swal","fireconfig","Aux","Modal","Logo","EventCards","initializeApp","Registration","props","uiConfig","signInFlow","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccess","componentDidMount","onAuthStateChanged","user","setState","isSignedIn","document","getElementById","style","display","database","ref","uid","once","then","snapshot","val","isUserCreated","tempName","displayName","catch","e","console","log","message","modalClosedHandler","window","location","href","capitalize","str","splitStr","toLowerCase","split","i","length","charAt","toUpperCase","substring","join","collegeNameChangeHandler","event","tpClg","target","value","tempCollege","mobileNumberChangeHandler","tempMobile","nameChangeHandler","tpNm","state","currentUser","formSubmitHandler"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport firebase from 'firebase';\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport Swal from 'sweetalert2';\n\nimport fireconfig from './config';\n\nimport Aux from './Aux';\nimport Modal from './Modal';\nimport Logo from './Logo';\nimport EventCards from './EventCards';\nimport './assets/css/Registration.css';\n\nfirebase.initializeApp(fireconfig);\n\nclass Registration extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { \n            isSignedIn: !!firebase.auth().currentUser,\n            isUserCreated: false,\n            user: null,\n            tempCollege: '',\n            tempMobile: '',\n            tempName: '',\n\n         }\n    }\n\n    uiConfig = {\n        signInFlow: \"redirect\",\n        signInOptions: [\n          firebase.auth.GoogleAuthProvider.PROVIDER_ID\n        ],\n        callbacks: {\n          signInSuccess: () => false\n        }\n    }\n\n    componentDidMount = () => {\n        firebase.auth().onAuthStateChanged(user => {\n            this.setState({isSignedIn: !!user});\n            if (!!user){\n                document.getElementById(\"root\").style.display = \"none\";\n                document.getElementById(\"loader\").style.display = \"block\";\n                firebase.database().ref('/participants/'+user.uid)\n                    .once('value').then((snapshot) => {\n                        document.getElementById(\"loader\").style.display = \"none\";\n                        document.getElementById(\"root\").style.display = \"block\";\n                        if (snapshot.val() !== null) {\n                            this.setState({user: snapshot.val(), isUserCreated: true});\n                        }else{\n                            this.setState({tempName: user.displayName, isUserCreated: false});\n                        }\n                    }).catch(e => console.log(e.message));\n            }\n        })\n    }\n\n    modalClosedHandler = () => {\n        window.location.href = '/events/general';\n    }\n\n    capitalize = (str) => {\n        let splitStr = str.toLowerCase().split(' ');\n        for (let i = 0; i < splitStr.length; i++){\n            splitStr[i] = splitStr[i].charAt(0).toUpperCase() + splitStr[i].substring(1);\n        }\n        return splitStr.join(' ');\n    }\n\n    collegeNameChangeHandler = (event) => {\n        let tpClg = this.capitalize(event.target.value);\n        this.setState({tempCollege: tpClg});\n    }\n\n    mobileNumberChangeHandler = (event) => {\n        this.setState({tempMobile: event.target.value});\n    }\n\n    nameChangeHandler = (event) => {\n        let tpNm = this.capitalize(event.target.value);\n        this.setState({tempName: tpNm});\n    }\n\n    \n\n    \n\n    render() { \n        return ( \n            <Aux>\n                <Modal show={!this.state.isSignedIn} modalClosed={this.modalClosedHandler}>\n                    <div className=\"ModalInner\">\n                        <Logo size={0}/>\n                        <h3>Login to Ascension</h3>\n                        <span>Login to Ascension with your Google Account for Event Registration</span>\n                        <StyledFirebaseAuth \n                            uiConfig={this.uiConfig}\n                            firebaseAuth={firebase.auth()}/>\n                    </div>\n                </Modal>\n                <Modal show={this.state.isSignedIn && !this.state.isUserCreated}  modalClosed={this.modalClosedHandler}>\n                    <div className=\"ModalInner\">\n                        <Logo size={0}/>\n                        <h3>Fill Your Personal Details</h3>\n                        <form className=\"SignupForm\">\n                            <input \n                                type=\"text\" \n                                placeholder=\"Your Name\"\n                                value={this.state.tempName} \n                                onChange={this.nameChangeHandler}/>\n                            <input \n                                type=\"text\" \n                                placeholder=\"Enter College Name\"\n                                value={this.state.tempCollege} \n                                onChange={this.collegeNameChangeHandler}/>\n                            <input \n                                type=\"tel\" \n                                placeholder=\"Enter Mobile Number\"\n                                value={this.state.tempMobile}\n                                onChange={this.mobileNumberChangeHandler}/>\n                            <input \n                                type=\"submit\" \n                                value=\"Submit\" \n                                onClick={this.formSubmitHandler}/>\n                        </form>\n                    </div>\n                </Modal>\n                <EventCards \n                    show={this.state.isUserCreated}\n                    user={this.state.user}/>\n            </Aux>\n         );\n    }\n}\n \nexport default Registration;\n\n   "]},"metadata":{},"sourceType":"module"}